<!DOCTYPE html>
<html lang="es">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Grupos de estudio</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- site icon -->
      <link rel="icon" href="../static/images/logoUniConnect.png" type="image/png">
      <!-- Include flaticon CSS -->
      <link rel="stylesheet" href="../static/fonts/flaticon.css">
      <!-- Include Font Awesome CSS -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="./static/css/bootstrap.min.css">
      <!-- site css -->
      <link rel="stylesheet" href="./static/css/style.css">
      <!-- responsive css -->
      <link rel="stylesheet" href="./static/css/responsive.css">
      <!-- color css -->
      <link rel="stylesheet" href="./static/css/color_2.css">
      <!-- select bootstrap -->
      <link rel="stylesheet" href="./static/css/bootstrap-select.css">
      <!-- scrollbar css -->
      <link rel="stylesheet" href="./static/css/perfect-scrollbar.css">
      <!-- custom css -->
      <link rel="stylesheet" href="./static/css/custom.css">
      <!-- calendar file css -->
      <link rel="stylesheet" href="./static/css/semantic.min.css">
      <!-- fancy box js -->
      <link rel="stylesheet" href="./static/css/jquery.fancybox.css">
      <!-- fullcalendar -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.css" />
      <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

      <style>
         /* Custom styles for the "Formar Grupo" button */
         .btn-warning {
            background-color: #ffc107; /* Button background color */
            color: #212529; /* Button text color */
            border: 1px solid #ffc107; /* Button border color */
            padding: auto;
            margin: 20px;
         }

         /* Optional: Add hover effect for the button */
         .btn-warning:hover {
            background-color: #e0a800; /* Hover background color */
            border: 1px solid #e0a800; /* Hover border color */
            color: #212529; /* Hover text color */
         }

         /* Custom styles for the modal container */
         #exampleModalCenter {
            background-color: whitesmoke; /* Background color */
            padding: auto;
            margin: auto;
         }

         /* Custom styles for the modal header */
         #exampleModalCenter .modal-header {
            background-color: #007bff; /* Header background color */
            color: #fff; /* Header text color */
         }

         /* Custom styles for the modal body */
         #exampleModalCenter .modal-body {
            background-color: #ffffff; /* Body background color */
            color: #000000; /* Body text color */
         }

         /* Custom styles for the form within the modal */
         #studyGroupForm {
            margin-bottom: 0; /* Remove default margin */
         }

         /* Custom styles for form inputs */
         #studyGroupForm input,
         #studyGroupForm textarea {
            margin-bottom: 10px; /* Add spacing between form elements */
         }

         /* Custom styles for the "Crear Grupo" button */
         #createGroupBtn {
            background-color: #28a745; /* Button background color */
            color: #fff; /* Button text color */
            border: 1px solid #28a745; /* Button border color */
         }

         /* Optional: Add hover effect for the button */
         #createGroupBtn:hover {
            background-color: #218838; /* Hover background color */
            border: 1px solid #218838; /* Hover border color */
         }

      </style>
      
   </head>
   
   <body class="dashboard dashboard_1">
      <div class="full_container">
         <div class="inner_container">
            <!-- Sidebar  -->
            <nav id="sidebar">
               <div class="sidebar_blog_1">
                  <div class="sidebar-header">
                     <div class="logo_section">
                     </div>
                  </div>
                  <div class="sidebar_user_info">
                     <div class="icon_setting"></div>
                     <div class="user_profle_side">
                        <div class="user_img"><img class="img-responsive" src="/cargar_imagen" alt="#" /></div>
                        <div class="user_info">
                           <h6>{{ user_profile['name'] }} {{ user_profile['last_name'] }}</h6>
                           <p><span class="online_animation"></span> {{ user_profile['status'] }} </p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sidebar_blog_2">
                  <h4>General</h4>
                  <ul class="list-unstyled components">
                     <li class="active">
                        <a href="/dashboard"><i class="fas fa-house-user blue1_color"></i> <span>Inicio</span></a>
                     </li>
                     <li><a href="/tables"><i class="fas fa-book orange_color"></i> <span>Archivos</span></a></li>
                     <li><a href="/contact"><i class="fa fa-paper-plane red_color"></i> <span>Tutores</span></a></li>
                     <li><a href="/profile"><i class="fas fa-user" style="color: #1de2de;"></i> <span>Perfil</span></a></li>
                     <li><a href="/estudio"><i class="fas fa-graduation-cap" style="--fa-primary-color: #22511f; --fa-secondary-color: #2cca21;"></i> <span>Estudio</span></a></li>
                     <li><a href="/podcast"><i class="fas fa-microphone purple_color"></i> <span>Podcast</span></a></li>
                     <li><a href="/chatbot"><i class="fas fa-robot" style="color: #2f73e9;"></i> <span>Chatbot</span></a></li>
                  </ul>
               </div>
            </nav>
            <!-- end sidebar -->
            <!-- right content -->
            <div id="content">
               <!-- topbar -->
               <div class="topbar">
                  <nav class="navbar navbar-expand-lg navbar-light">
                     <div class="full">
                        <button type="button" id="sidebarCollapse" class="sidebar_toggle"><i class="fa fa-bars"></i></button>
                        <div class="logo_section">
                           <a href="/dashboard"><img class="img-responsive" src="../static/images/logoUniConnect.png" alt="#" /></a>
                           <h4>Uniconnect</h4>
                       </div>
                        <div class="right_topbar">
                           <div class="icon_info">
                              <ul>
                                 <li><a href="#"><i class="fas fa-bell"></i><span class="badge"></span></a></li>
                                 <li><a href="#"><i class="fas fa-question-circle"></i></a></li>
                                 <li><a href="#"><i class="fas fa-envelope"></i><span class="badge"></span></a></li>
                              </ul>
                              <ul class="user_profile_dd">
                                 <li>
                                    <a class="dropdown-toggle" data-toggle="dropdown">
                                       <span class="name_user">{{ user_profile['name'] }} {{ user_profile['last_name'] }}</span></a>
                                    <div class="dropdown-menu">
                                       <a class="dropdown-item" href="/profile">Perfil</a>
                                       <!--a class="dropdown-item" href="/settings">Perfil</a-->
                                       <!--a class="dropdown-item" href="help.html">Ayuda</a-->
                                       <a class="dropdown-item" href="/salir" formaction="/salir"><span>Salir</span> <i class="fas fa-sign-out-alt"></i></a>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </nav>
               </div>
               <!-- end topbar -->

               <!-- dashboard inner -->
               <div class="midde_cont">
                  
                <!-- dashboard inner -->
               <div class="midde_cont">
                  <div class="container-fluid">
                     <div class="page_title">
                        <h2>Grupos de Estudio</h2>
                        <div class="col-md-2">
                           <!-- Button to open the modal -->
                           <div class="text-right mt-3">
                              <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#exampleModalCenter">Formar Grupo</button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <div class="container-fluid">
                     <div class="row">
                        <!-- Study group card 1 -->
                        <div class="col-md-4 mb-4">
                           <div class="card">
                              <img class="card-img-top" src="/static/images/DrawKit Vector Illustration Team Work (6).png" alt="Study Group Header">
                              <div class="card-body">
                                 <h5 class="card-title">Curso:Repaso de Prolog</h5>
                                 <p class="card-text">Asignatura: Inteligencia Artificial</p>
                                 <p class="card-text">Resumen: Vamos a repasar el temario de prolog de cara al examen</p>
                                 <p class="card-text">Dónde: En la pecera</p>
                                 <p class="card-text">Qué día: Viernes y lunes</p>
                                 <p class="card-text">A qué hora: 14.30</p>
                                 <button type="button" class="btn btn-success">¡Me uno!</button>
                              </div>
                           </div>
                        </div>

                        <!-- Study group card 2 -->
                        <div class="col-md-4 mb-4">
                           <div class="card">
                              <img class="card-img-top" src="/static/images/DrawKit Vector Illustration Team Work (6).png" alt="Study Group Header">
                              <div class="card-body">
                                 <h5 class="card-title">Curso:Curso TDD</h5>
                                 <p class="card-text">Asignatura: Inteligencia del software</p>
                                 <p class="card-text">Resumen: Vamos a realizar tdd</p>
                                 <p class="card-text">Dónde: En la pecera</p>
                                 <p class="card-text">Qué día: Martes </p>
                                 <p class="card-text">A qué hora: 14.30</p>
                                 <button type="button" class="btn btn-success">¡Me uno!</button>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-4 mb-4">
                           <div class="card">
                              <img class="card-img-top" src="/static/images/DrawKit Vector Illustration Team Work (6).png" alt="Study Group Header">
                              <div class="card-body">
                                 <h5 class="card-title">Curso: Curso cloud</h5>
                                 <p class="card-text">Asignatura: Optativa </p>
                                 <p class="card-text">Resumen: Saber realimente lo que es </p>
                                 <p class="card-text">Dónde: Sla 1.5.5.</p>
                                 <p class="card-text">Qué día: Miércoles </p>
                                 <p class="card-text">A qué hora: 16.00</p>
                                 <button type="button" class="btn btn-success">¡Me uno!</button>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- footer -->
                  <div class="container-fluid">
                     <div class="footer">
                        <p>Copyright © 2023 Designed by CEU San Pablo University. All rights reserved.</p>
                     </div>
                  </div>
               </div>
               <!-- end dashboard inner -->

               </div>
            </div>

            <!-- model popup -->
            <!-- Modal for adding containers -->
            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
               <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                     <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalCenterTitle">Nuevo grupo de estudio</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                           <span aria-hidden="true">&times;</span>
                        </button>
                     </div>
                     <div class="modal-body">
                        <!-- Form for adding study group details -->
                   ¡
                           <form id="studyGroupForm" action="/estudio" method="POST">

                           <div class="form-group">
                              <label for="headerPhoto">Foto o póster:</label>
                              <input type="file" class="form-control-file" id="headerPhoto" accept="image/*" capture="environment">
                           </div>
                           
                           <div class="form-group">
                              <label for="groupTitle">Curso:</label>
                              <input type="text" class="form-control" id="groupTitle" placeholder="Ingrese el título" required>
                           </div>
                           <div class="form-group">
                              <label for="subject">Asignatura:</label>
                              <input type="text" class="form-control" id="subject" placeholder="Ingrese la asignatura" required>
                           </div>
                           <div class="form-group">
                              <label for="description">Descripción:</label>
                              <textarea class="form-control" id="description" placeholder="Ingrese la descripción" rows="3" required></textarea>
                           </div>
                           <div class="form-group">
                              <label for="location">Ubicación:</label>
                              <input type="text" class="form-control" id="location" placeholder="Ingrese la ubicación" required>
                           </div>
                           <div class="form-group">
                              <label for="days">Días:</label>
                              <input type="text" class="form-control" id="days" placeholder="Ingrese los días" required>
                           </div>
                           <div class="form-group">
                              <label for="time">Hora:</label>
                              <input type="text" class="form-control" id="time" placeholder="Ingrese la hora" required>
                           </div>
                           <!-- Add the "Crear Grupo" button with the proper ID -->
                           <button type="button" class="btn btn-primary" id="createGroupBtn">Crear Grupo</button>
                        </form>
                     </div>
                     <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                        <!-- Remove the button from here -->
                     </div>
                  </div>
               </div>
                </div>
                   


            
         </div>
      </div>
      <!-- jQuery -->
      <script src="./static/js/jquery.min.js"></script>
      <script src="./static/js/popper.min.js"></script>
      <script src="./static/js/bootstrap.min.js"></script>
      <!-- wow animation -->
      <script src="./static/js/animate.js"></script>
      <!-- select country -->
      <script src="./static/js/bootstrap-select.js"></script>
      <!-- owl carousel -->
      <script src="./static/js/owl.carousel.js"></script> 
      <!-- chart js -->
      <script src="./static/js/Chart.min.js"></script>
      <script src="./static/js/Chart.bundle.min.js"></script>
      <script src="./static/js/utils.js"></script>
      <script src="./static/js/analyser.js"></script>
      <!-- nice scrollbar -->
      <script src="./static/js/perfect-scrollbar.min.js"></script>
      <script>
         var ps = new PerfectScrollbar('#sidebar');
      </script>
      <!-- fancy box js -->
      <script src="./static/js/jquery.fancybox.min.js"></script>
      <!-- custom js -->
      <script src="./static/js/custom.js"></script>
      <script src="./static/js/custom2.js"></script>
      <!-- calendar file css -->    
      <script src="./static/js/semantic.min.js"></script>
      <!--js de crear eventos-->
      <script src="./static/js/events.js"></script>
      <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

      <script>
         $(document).ready(function () {
            // Event listener for the "Crear Grupo" button
            $('#createGroupBtn').click(function () {
               // Get values from the form
               var title = $('#groupTitle').val();
               var subject = $('#subject').val();
               var description = $('#description').val();
               var location = $('#location').val();
               var days = $('#days').val();
               var time = $('#time').val();
               var headerPhoto = $('#headerPhoto')[0].files[0]; // Get the selected file

               // Check if the user has uploaded a photo
               if (headerPhoto) {
                  // Handle the photo upload
                  // You may want to use FormData to send the file to the server
                  // For now, we'll just assume the file is uploaded and set a placeholder URL
                  var photoURL = '/static/images/DrawKit Vector Illustration Team Work (2).png'; // Replace with your default photo URL
               } else {
                  // Use a default photo URL if the user didn't upload one
                  var photoURL = '/static/images/DrawKit Vector Illustration Team Work (2).png'; // Replace with your default photo URL
               }

               // Create a new container with the user-provided information and the photo URL
               var newContainer = `
                  <div class="col-md-4 mb-4">
                     <div class="card">
                        <img class="card-img-top" src="${photoURL}" alt="Group Header">
                        <div class="card-body">
                           <h5 class="card-title">${title}</h5>
                           <p class="card-text">Asignatura: ${subject}</p>
                           <p class="card-text">Resumen: ${description}</p>
                           <p class="card-text">Dónde: ${location}</p>
                           <p class="card-text">Qué día: ${days}</p>
                           <p class="card-text">A qué hora: ${time}</p>
                           <button type="button" class="btn btn-success">¡Me uno!</button>
                        </div>
                     </div>
                  </div>
               `;

               // Append the new container to the grid
               $('#gridContainer').append(newContainer);

               // Close the modal
               $('#exampleModalCenter').modal('hide');

               // Reset the form
               $('#studyGroupForm')[0].reset();
            });
         });

       </script>
                  

   </body>
</html>
