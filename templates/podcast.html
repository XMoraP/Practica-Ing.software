<!DOCTYPE html>
<html lang="e">

<head>
    <!-- basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!-- site metas -->
    <title>Asignaturas</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- site icon -->
    <link rel="icon" href="../static/images/logoUniConnect.png" type="image/png" />
    <!-- Include flaticon CSS -->
    <link rel="stylesheet" href="../static/fonts/flaticon.css">
    <!-- Include Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- bootstrap css -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css" />
    <!-- site css -->
    <link rel="stylesheet" href="../static/css/style.css" />
    <!-- responsive css -->
    <link rel="stylesheet" href="../static/css/responsive.css" />
    <!-- color css -->
    <link rel="stylesheet" href="../static/css/color_2.css" />
    <!-- select bootstrap -->
    <link rel="stylesheet" href="../static/css/bootstrap-select.css" />
    <!-- scrollbar css -->
    <link rel="stylesheet" href="../static/css/perfect-scrollbar.css" />
    <!-- custom css -->
    <link rel="stylesheet" href="../static/css/custom.css" />
    <!-- calendar file css -->
    <link rel="stylesheet" href="../static/js/semantic.min.css" />
    <!-- fancy box js -->
    <link rel="stylesheet" href="../static/css/jquery.fancybox.css" />
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.../static/js/1.4.2/respond.min.js"></script>
      <![endif]-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">


    <style>
        body {
            display: flex;
            align-items: stretch;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }   

        .btn-add-podcast {
            margin-top: 30px;
            /* Puedes ajustar el valor según sea necesario */
        }

        .card {
            border: 2px solid #007bff;
            border-radius: 10px;
        }

        .card-img-top {
            border-radius: 50%;
            margin: auto;
            display: block;
            width: 100px;
            height: 100px;
        }

        .card-body {
            text-align: center;
        }

        .btn-primary {
            margin-top: 50px;
        }

        #content .container .row .col-md-4 {
            margin-top: 80px;
            /* Puedes ajustar el valor según sea necesario */

        }

        .fa-play,
        .fa-volume-up,
        .fa-pause,
        .fa-fast-forward,
        .fa-fast-backward,
        .fa-stop,
        .fa-volume-up a {
            color: white;
        }

        .fa-play,
        .fa-volume-up,
        .fa-pause,
        .fa-fast-forward,
        .fa-fast-backward,
        .fa-stop,
        .fa-volume-up a:hover {
            color: #1de2de;
        }

        .image_container {
            text-align: right;
            margin-top: -130px;
        }

        .image_container img {
            width: 150px;
            height: auto;
            border-radius: 5px;

        }

        .playback_controls button {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            background-color: #007bff;
            border-color: white;
        }

        .volume_controls button {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            background-color: #007bff;
            border-color: white;
        }

    </style>
</head>

<body class=" tables">
    <div class="full_container">
        <div class="inner_container">
            <!-- Sidebar  -->
            <nav id="sidebar">
                <div class="sidebar_blog_1">
                    <div class="sidebar-header">
                        <div class="logo_section">
                            <a href="/tables"><img class="logo_icon img-responsive"
                                    src="../static/images/logoUniConnect.png" alt="#" /></a>
                        </div>
                    </div>
                    <div class="sidebar_user_info">
                        <div class="icon_setting"></div>
                        <div class="user_profle_side">
                            <div class="user_img"><img class="img-responsive" src="/cargar_imagen"
                                    alt="#" /></div>
                            <div class="user_info">
                                <h6>{{ user_profile['name'] }} {{ user_profile['last_name'] }}</h6>
                                <p><span class="online_animation"></span> {{ user_profile['status'] }} </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="sidebar_blog_2">
                    <h4>General</h4>
                    <ul class="list-unstyled components">
                        <li class="active">
                            <a href="/dashboard"><i class="fas fa-house-user blue1_color"></i> <span>Inicio</span></a>
                        </li>
                        <li><a href="/tables"><i class="fas fa-book orange_color"></i> <span>Archivos</span></a></li>
                        <li><a href="/contact"><i class="fa fa-paper-plane red_color"></i> <span>Tutores</span></a></li>
                        <li><a href="/profile"><i class="fas fa-user" style="color: #1de2de;"></i>
                                <span>Perfil</span></a></li>
                        <li><a href="/estudio"><i class="fas fa-graduation-cap"
                                    style="--fa-primary-color: #22511f; --fa-secondary-color: #2cca21;"></i>
                                <span>Estudio</span></a></li>
                        <li><a href="/podcast"><i class="fas fa-microphone purple_color"></i> <span>Podcast</span></a>
                        </li>
                    </ul>
                </div>
            </nav>
            <!-- end sidebar -->
            <!-- right content -->
            <div id="content">
                <!-- topbar -->
                <div class="topbar">
                   <nav class="navbar navbar-expand-lg navbar-light">
                      <div class="full">
                         <button type="button" id="sidebarCollapse" class="sidebar_toggle"><i class="fa fa-bars"></i></button>
                         <div class="logo_section">
                            <a href="/dashboard"><img class="img-responsive" src="../static/images/logoUniConnect.png" alt="#" /></a>
                            <h4>Uniconnect</h4>
                         </div>
                         <div class="right_topbar">
                            <div class="icon_info">
                               <ul>
                                  <li><a class = "boton_notificacion_bell" href="#" onclick="toggleNotificationPopup(event)">
                                     <i class="fas fa-bell"></i>
                                     <span class="badge" id="notificacionesBadge" style="background-color: white; color: black;">{{ longitud }} </span>
                                  </a></li>
                               </ul>
                               <ul class="user_profile_dd">
                                  <li>
                                     <a class="dropdown-toggle"
                                        data-toggle="dropdown"><!--img class="img-responsive rounded-circle" src="/cargar_imagen" alt="Imagen de perfil" /-->
                                        <span class="name_user">{{ user_profile['name'] }} {{ user_profile['last_name']
                                           }}</span></a>
                                     <div class="dropdown-menu">
                                        <a class="dropdown-item" href="/profile">Perfil</a>
                                        <a class="dropdown-item" href="/salir" formaction="/salir"><span>Salir</span> <i class="fas fa-sign-out-alt"></i></a>
                                     </div>
                                  </li>
                               </ul>
                            </div>
                         </div>
                      </div>
                   </nav>
                </div>
                <div class="notification-popup" id="ventanaNotificaciones">
                   <h3><br>Notificaciones</h3>
                   {% for notificacion in notificaciones %}
                      <div class="notification">{{ notificacion.mensaje }}</div>
                   {% endfor %}
                </div>
                <div class="midde_cont">
                    <div class="container-fluid">
                        <!--div class="row"-->
                            <!---div class="col-md-12"--->
                                <div class="page_title">
                                    <h2>Podcasts</h2>
                                </div>
                             <!--/div--->
                            <!-- Button to open the modal -->
                            <div class="col-md-4 mb-3">
                                <button class="btn btn-success btn-add-podcast" data-toggle="modal" data-target="#addPodcastModal">Subir Audio</button>
                                <button class="btn btn-success btn-add-podcast" data-toggle="modal" data-target="#recordPodcastModal">Grabar Podcast</button>
                            </div>
                        <!--/div--->
                    </div>
                </div>
                
            <div class="container-fluid">    
                <div class="row">
                    {% for podcast in podcasts %}
                        <div class="col-sm-4 mb-3">
                            <div class="card" data-podcast-id="{{ podcast.id_podcast }}">
                                <img src="../static/images/podcastLogo.png" class="card-img-top" alt="Imagen del Estudiante">
                                <div class="card-body">
                                    <h5 class="card-title">{{ podcast.nombre_usuario }}</h5>
                                    <p class="card-text">{{ podcast.nombre_podcast }}</p>
                                    <p class="card-text">{{ podcast.description }}</p>
                                    <audio controls></audio>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>

                    <!-- Modal de añadir podcast -->
                    <div class="modal fade" id="addPodcastModal" tabindex="-1" role="dialog"
                        aria-labelledby="addPodcastModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="addPodcastModalLabel">Añadir Podcast</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <!-- Formulario de añadir podcast -->
                                    <form action="/uploadMp3" method="post" enctype="multipart/form-data">
                                        <div class="form-group">
                                            <label for="podcastName">Nombre del Podcast</label>
                                            <input type="text" class="form-control" id="podcastName"
                                                placeholder="Ingrese el nombre del podcast" name="podcastName">
                                            <!---label for="description"> Descripción</label>
                                            <input type="text" class="form-control" id="description"
                                                    placeholder="Ingrese la descripción del podcast" name="description" required--->
                                        </div>
        
                                        <div class="form-group">
                                            <label for="podcastFile">Archivo MP3</label>
                                            <input type="file" class="form-control-file" id="podcastFile" name="podcastFile" required>
                                        </div>
                                        <button type="submit" class="btn btn-primary">Subir Podcast</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modal para grabar un podcast -->
                    <div class="modal fade" id="recordPodcastModal" tabindex="-1" role="dialog"
                        aria-labelledby="addPodcastModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="addPodcastModalLabel">Grabar Podcast</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col mb-3">
                                        <button id="startRecord" class="btn btn-primary">Iniciar Grabación</button>
                                        <button id="stopRecord" disabled class="btn btn-primary">Detener Grabación</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                        <audio id="audioPlayer" controls></audio>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                        <button id="saveRecord" class="btn btn-primary">Guardar</button>
                                        </div>
                                    </div>
                                    <!---form action="/subir_audio" method="post">
                                        <label for="description"> Descripción</label>
                                        <input type="text" class="form-control" id="description"
                                                placeholder="Ingrese la descripción del podcast" name="description" required>
                                        <button type="submit" class="btn btn-primary">Guardar Descripción</button>
                                    </form--->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery -->
    <script src="../static/js/popper.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <!-- wow animation -->
    <script src="../static/js/animate.js"></script>
    <!-- select country -->
    <script src="../static/js/bootstrap-select.js"></script>
    <!-- owl carousel -->
    <script src="../static/js/owl.carousel.js"></script>
    <!-- chart js -->
    <script src="../static/js/Chart.min.js"></script>
    <script src="../static/js/Chart.bundle.min.js"></script>
    <script src="../static/js/utils.js"></script>
    <script src="../static/js/analyser.js"></script>
    <!-- nice scrollbar -->
    <script src="../static/js/perfect-scrollbar.min.js"></script>
    <script>
        var ps = new PerfectScrollbar('#sidebar');
    </script>
    <!-- fancy box js -->
    <script src="../static/js/jquery-3.3.1.min.js"></script>
    <script src="../static/js/jquery.fancybox.min.js"></script>
    <!-- custom js -->
    <script src="../static/js/custom.js"></script>
    <!-- calendar file css -->
    <script src="../static/js/semantic.min.js"></script>
    <!--podcast-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!--SCRIPT-->
    <script src="../static/js/podcast.js"></script>
    <script src="../static/js/uploadPodcast.js"></script>


</body>

</html>